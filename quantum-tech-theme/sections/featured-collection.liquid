<div class="qt-container" style="padding: 24px 1rem;">
  {% assign col = collections[section.settings.collection] %}
  <h2 style="margin:0 0 8px 0">{{ section.settings.heading }}</h2>
  <p style="margin:0 0 16px 0; color: var(--muted)">{{ section.settings.subheading }}</p>
</div>
<div class="qt-grid">
  {% if col and col.products_count > 0 %}
    {% for product in col.products limit: section.settings.product_limit %}
      <article class="qt-card">
        <a href="{{ product.url }}">
          {% if product.featured_image %}
            <img src="{{ product.featured_image | image_url: width: 600 }}" alt="{{ product.title }}">
          {% endif %}
          <h3 style="margin:.5rem 0 .25rem 0; font-size: 1rem;">{{ product.title }}</h3>
        </a>
        <div class="qt-price">{{ product.price | money }}</div>
        {% if product.selected_or_first_available_variant %}
          <form method="post" action="/cart/add">
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
            <button class="qt-btn" type="submit">Add to cart</button>
          </form>
        {% endif %}
      </article>
    {% endfor %}
  {% else %}
    {% for i in (1..4) %}
      <article class="qt-card">
        <div style="background:#e9eefc;height:160px;border-radius:12px;"></div>
        <h3 style="margin:.5rem 0 .25rem 0; font-size: 1rem;">Example Product {{ i }}</h3>
        <div class="qt-price">$99.99</div>
        <a class="qt-btn" href="#">Preview</a>
      </article>
    {% endfor %}
  {% endif %}
</div>

{% schema %}
{
  "name": "Featured collection",
  "settings": [
    { "type": "collection", "id": "collection", "label": "Collection" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Featured Tech" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "Best-sellers and fresh drops" },
    { "type": "range", "id": "product_limit", "label": "Products to show", "min": 2, "max": 12, "step": 1, "default": 8 }
  ],
  "presets": [{ "name": "Featured collection" }]
}
{% endschema %}